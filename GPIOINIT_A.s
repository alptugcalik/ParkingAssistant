SYSCTL_RCGCGPIO		EQU		0x400FE608 ;SYSTEM GPIO CLOCK
GPIO_PORTA_DATA 	EQU 	0x400043FC ; data address to all pins SPECIFIED WITH REQUIRED MASK 
GPIO_PORTA_DIR 		EQU 	0x40004400
GPIO_PORTA_AFSEL 	EQU 	0x40004420
GPIO_PORTA_AMSEL 	EQU 	0x40004428
GPIO_PORTA_DEN 		EQU 	0x4000451C
GPIO_PORTA_CTL 		EQU 	0x4000452C
GPIO_PORTA_PUR 		EQU 	0x40004510 
IOA 				EQU 	0x0f       ;INPUT CONFIG OF PORT A
PUA 				EQU 	0xf0 	; or #00001111

SYSCTL_RCGCSSI 		EQU		0x400FE61C
	
			AREA		main, READONLY, CODE
            THUMB

			EXPORT		GPIOINIT_A


GPIOINIT_A	PROC

			;ENABLE CLOCK FIRST
			LDR R1,=SYSCTL_RCGCGPIO
			LDR R0,[R1]
			ORR R0,#0x01; turn on clock for a port
			STR R0 ,[R1]
			NOP
			NOP
			NOP
			;CLOCK IS STABILIZED
			
			;ENABLE CLOCK FIRST FOR SSI
			LDR R1,=SYSCTL_RCGCSSI
			LDR R0,[R1]
			ORR R0,#0x01; turn on clock FOR SSI0
			STR R0 ,[R1]
			NOP
			NOP
			NOP
			;CLOCK IS STABILIZED
			
			;Configure the CLK, CS (FSS), MOSI (Tx), and MISO(Rx) pins as a digital pin
			; for ssi 0
			LDR R1 , =GPIO_PORTA_DEN  
			LDR R0 , [R1]
			MOV R0 , #0x3C  ;CONFIG DIGITAL PINS
			STR R0 , [R1]
			
			; SET AFSEL 
			LDR R1 , =GPIO_PORTA_AFSEL 
			LDR R0 , [R1]	
			MOV R0 , #0x3C  
			STR R0 , [R1]
			
			; SET PCTL
			LDR R1 , =GPIO_PORTA_CTL
			LDR R0 , [R1]	
			LDR R0 , =0x222200  
			STR R0 , [R1]
			
			LDR R1 , =GPIO_PORTA_AMSEL ;no aNALOG PIN function
			LDR R0 , [R1]	
			BIC R0 , #0xFF   ;CLEAR AMSEL OF PORT A
			STR R0 , [R1]
			
			BX LR
			ENDP
			END